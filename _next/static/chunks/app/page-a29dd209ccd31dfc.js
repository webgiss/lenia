(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{5728:function(e,t,n){Promise.resolve().then(n.bind(n,1876)),Promise.resolve().then(n.bind(n,9252)),Promise.resolve().then(n.bind(n,627)),Promise.resolve().then(n.t.bind(n,345,23))},1876:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return u}});var r=n(7437),c=n(549),o=n(1361),l=n(3530),a=n(7992);n(3290);var i=e=>{let{on_next_iter:t,on_next_iters:n,on_reset:c,iteration:i,auto_download:u,prefix:s,on_prefix_change:d,on_auto_download_change:f}=e;return(0,r.jsxs)("div",{className:"Control",children:[(0,r.jsx)("p",{children:(0,r.jsx)(o.Z,{value:i,readOnly:!0})}),(0,r.jsxs)("p",{children:[(0,r.jsx)(o.Z,{value:s,onChange:e=>d(e.target.value)}),(0,r.jsx)(l.Z,{label:"Auto Download",checked:u,onChange:(e,t)=>{let{checked:n}=t;return f(n)}})]}),(0,r.jsx)(a.Z,{onClick:()=>t(),children:"Next Iteration"}),(0,r.jsx)(a.Z,{onClick:()=>n(),children:"Next Iterations"}),(0,r.jsx)(a.Z,{onClick:()=>c(),children:"Reset"})]})},u=e=>{let{...t}=e,n=(0,c.I0)(),o=(0,c.v9)(c.Dh.selectIteration),l=(0,c.v9)(c.Dh.selectAutoDownload),a=(0,c.v9)(c.Dh.selectPrefix);return(0,r.jsx)(i,{on_next_iter:()=>n(c.Dh.slice.actions.step()),on_next_iters:()=>n(c.Dh.slice.actions.steps()),on_reset:()=>n(c.Dh.slice.actions.init()),iteration:o,auto_download:l,prefix:a,on_prefix_change:e=>n(c.Dh.slice.actions.change_prefix(e)),on_auto_download_change:e=>n(c.Dh.slice.actions.set_auto_download(e)),...t})}},9252:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return _}});var r=n(7437),c=n(549),o=n(459),l=n.n(o),a=n(7992),i=n(1671),u=n(7626),s=n(1361);let d=e=>{let{onAction:t,label:n,icon:c,ariaLabel:o}=e;return(o||(o=n),c&&n)?(0,r.jsxs)(a.Z,{as:"div",labelPosition:"right",onClick:t,children:[(0,r.jsx)(a.Z,{icon:!0,children:(0,r.jsx)(i.Z,{name:c})}),(0,r.jsx)(u.Z,{as:"a","aria-label":o,basic:!0,pointing:"left",children:n})]}):(0,r.jsx)(a.Z,{"aria-label":o,onClick:t,icon:c,children:n})};var f=e=>{let{count:t,increment:n,decrement:c,incrementAmount:o,setIncrementAmount:a,incrementByAmount:i,incrementAsync:u,incrementIfOddAsync:f}=e;return(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:l().row,children:[(0,r.jsx)(d,{icon:"minus",ariaLabel:"Decrement value",onAction:c}),(0,r.jsx)("span",{className:l().value,children:t}),(0,r.jsx)(d,{icon:"plus",ariaLabel:"Increment value",onAction:n})]}),(0,r.jsxs)("div",{className:l().row,children:[(0,r.jsx)(s.Z,{className:l().textbox,"aria-label":"Set increment amount",value:o,onChange:e=>{var t;return a(Number(null!==(t=e.target.value)&&void 0!==t?t:0))}}),(0,r.jsx)(d,{icon:"plus",label:"Add Amount",onAction:i}),(0,r.jsx)(d,{icon:"plus",label:"Add Async",onAction:u}),(0,r.jsx)(d,{icon:"plus",label:"Add If Odd",onAction:f})]})]})},_=()=>{let e=(0,c.I0)(),t=(0,c.v9)(c.cL.selectCount),n=(0,c.v9)(c.cL.selectAmount);return(0,r.jsx)(f,{count:t,increment:()=>e(c.cL.slice.actions.increment()),decrement:()=>e(c.cL.slice.actions.decrement()),incrementAmount:n,incrementByAmount:()=>e(c.cL.slice.actions.incrementByAmount(n)),incrementAsync:()=>e(c.cL.incrementAsync(n)),incrementIfOddAsync:()=>e(c.cL.incrementIfOddAsync(n)),setIncrementAmount:t=>e(c.cL.slice.actions.setIncrementAmount(t))})}},627:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return d}});var r=n(7437),c=n(549),o=n(2265),l=n(5918),a=n.n(l),i=n(4795),u=n(9291),s=e=>{let{res:t,space:n,iteration:c,auto_download:l,prefix:s,stateId:d}=e,f=(0,o.useRef)(null);return(0,o.useEffect)(()=>{let e=f.current,r=e.getContext("2d"),{size:o}=n;if(e.width!==o*t&&(e.width=o*t),e.height!==o*t&&(e.height=o*t),r.fillStyle="black",r.fillRect(0,0,o*t,o*t),(0,i.on_each_space_cell)(n,(e,n)=>{let{x:c,y:o}=e,l=(0,u.XN)(n);r.fillStyle=l,r.fillRect(c*t,o*t,t,t)}),console.log({auto_download:l,prefix:s,iteration:c}),l){let t=document.createElement("a");t.href=e.toDataURL("image/jpeg",.5),t.download="".concat(s,"-").concat(d,"-").concat(c.toString().padStart(5,"0"),".jpg"),t.click()}},[n,l,s,c,t,d]),(0,r.jsx)("canvas",{ref:f,className:a().Space})},d=e=>{let{...t}=e,n=(0,c.I0)(),o=(0,c.v9)(c.Dh.selectSpace),l=(0,c.v9)(c.Dh.selectIteration),a=(0,c.v9)(c.Dh.selectAutoDownload),i=(0,c.v9)(c.Dh.selectPrefix),u=(0,c.v9)(c.Dh.selectId);return null==o?(n(c.Dh.slice.actions.init()),null):(0,r.jsx)(s,{space:o,iteration:l,auto_download:a,prefix:i,stateId:u,...t})}},5125:function(e,t,n){"use strict";n.r(t),n.d(t,{apply_filter_conv:function(){return r},create_filter_conv:function(){return o}});let r=(e,t)=>{let{size:n,func:r,factor:c}=e,o=0;for(let e=Math.floor(-n);e<=n;e++)for(let c=Math.floor(-n);c<=n;c++)o+=t(e,c)*r({x:e,y:c});return o/c},c=e=>r(e,()=>1),o=(e,t)=>{let n={size:e,func:t,factor:1};return n.factor=c(n),n}},9140:function(e,t,n){"use strict";n.r(t),n.d(t,{create_func:function(){return r}});let r=(e,t)=>{let n=(e+t)/2,r=(t-e)/2;return(e,t,c)=>{let{x:o,y:l}=e;return Math.exp(-(((Math.sqrt(o**2+l**2)-n)/r)**2))}}},9291:function(e,t,n){"use strict";n.d(t,{XN:function(){return C},u3:function(){return D},uv:function(){return w}});let{create_space:r,apply_filter_conv_on_space:c}=n(4795),o=(e,t)=>{let{size:n}=e,o=r(n),{growing_funcs:l,filter_convs:a,cell_creator_by_values:i}=e;return c(t,o,i,l,a),o};var l=n(8399),a=n(4795);let{create_filter_conv:i}=n(5125),{create_func:u}=n(9140),s=(e,t,n,r)=>{let c=t-e,o=(n+r)/2,l=(r-n)/2;return t=>c*Math.exp(-(((t-o)/l)**2))+e},d=(e,t,n)=>{let r=s(-1,1,e,t),c=s(1,-1,e,t),o=s(-1,1,e,t);return(e,t,l,a)=>{let{red:i,green:u,blue:s}=e,d=r(i),f=c(u),_=o(s),p=parseFloat(t)+(d+.5*f+.5*_)*n;return p>1?1:p<0?0:p}},f=(e,t,n)=>{let r=s(-1,1,e,t),c=s(-1,1,e,t),o=s(1,-1,e,t);return(e,t,l,a)=>{let{red:i,green:u,blue:s}=e,d=r(i),f=c(u),_=o(s),p=parseFloat(t)+(.5*d+f+.5*_)*n;return p>1?1:p<0?0:p}},_=(e,t,n)=>{let r=s(1,-1,e,t),c=s(-1,1,e,t),o=s(-1,1,e,t);return(e,t,l,a)=>{let{red:i,green:u,blue:s}=e,d=r(i),f=c(u),_=o(s),p=parseFloat(t)+(.5*d+.5*f+_)*n;return p>1?1:p<0?0:p}},p=(e,t,n)=>{let{red:r,green:c,blue:o}=n;return{x:e,y:t,red:r,green:c,blue:o}},v=e=>void 0===e?0:e.red,m=e=>void 0===e?0:e.green,h=e=>void 0===e?0:e.blue,x=(e,t,n)=>{let r=i(e,u(t,n));return{red:{filter_conv:r,space_value_getter:v},green:{filter_conv:r,space_value_getter:m},blue:{filter_conv:r,space_value_getter:h}}},g=(e,t,n)=>({red:d(e,t,n),green:f(e,t,n),blue:_(e,t,n)}),j=e=>Math.floor(255*e).toString(16).padStart(2,"0"),b=e=>{let t=v(e),n=m(e),r=h(e),c=j(t),o=j(n),l=j(r);return"#".concat(c).concat(o).concat(l)},y=e=>()=>{let t=(0,a.create_space)(e);for(let n=0;n<e;n++)for(let r=0;r<e;r++){let e=Math.random(),c=Math.random(),o=Math.random();(0,a.set_space_cell)(t,n,r,p(n,r,{red:e,green:c,blue:o}))}return t},A=((e,t)=>{let{filter_conv_values:{min:n,max:r},growing_func_values:{min:c,max:o,fstep:l}}=t,a={};return a.size=e,a.cell_creator_by_values=p,a.filter_convs=x(1.5*r,n,r),a.growing_funcs=g(c,o,l),a.color_getter=b,a.get_init_position=y(e),a})(60,{filter_conv_values:{min:4,max:8},growing_func_values:{min:.25,max:.45,fstep:.1}}),w=e=>o(A,e),C=A.color_getter,D=A.get_init_position;(0,l.f)({setup:A})},4795:function(e,t,n){"use strict";n.r(t),n.d(t,{apply_filter_conv_on_space:function(){return u},create_space:function(){return l},get_space_cell:function(){return a},on_each_space_cell:function(){return s},set_space_cell:function(){return i}});var r=n(5125);let c=(e,t)=>(e%t+t)%t,o=(e,t)=>{let{size:n}=e,{x:r,y:o}=t;return(r=c(r,n))+(o=c(o,n))*n},l=e=>{let t={};return t.size=e,t.cells=Array(e*e),t},a=(e,t,n)=>{let r=o(e,{x:t,y:n});return e.cells[r]},i=(e,t,n,r)=>{let c=o(e,{x:t,y:n});e.cells[c]=r},u=(e,t,n,c,o)=>{let{size:l}=e;console.log("apply_filter_conv_on_space : start");for(let u=0;u<l;u++)for(let s=0;s<l;s++){let l={},d={},f={};for(let t of Object.keys(o)){let{filter_conv:n,space_value_getter:c}=o[t];d[t]=c(a(e,u,s)),l[t]=(0,r.apply_filter_conv)(n,(t,n)=>c(a(e,u+t,s+n)))}for(let e of Object.keys(o)){let t=c[e];f[e]=t(l,d[e],u,s)}for(let e of Object.keys(o))i(t,u,s,n(u,s,f))}console.log("apply_filter_conv_on_space : stop")},s=(e,t)=>{let{size:n}=e;for(let r=0;r<n;r++)for(let c=0;c<n;c++)t({x:r,y:c},a(e,r,c))}},8399:function(e,t,n){"use strict";n.d(t,{f:function(){return r}});let r=e=>{}},549:function(e,t,n){"use strict";n.d(t,{cL:function(){return r},tO:function(){return D},Dh:function(){return c},I0:function(){return l.I0},v9:function(){return l.v9}});var r={};n.r(r),n.d(r,{incrementAsync:function(){return f},incrementIfOddAsync:function(){return _},selectAmount:function(){return d},selectCount:function(){return s},slice:function(){return p}});var c={};n.r(c),n.d(c,{selectAutoDownload:function(){return j},selectId:function(){return y},selectIteration:function(){return g},selectPrefix:function(){return b},selectSpace:function(){return x},slice:function(){return h}});var o={};n.r(o),n.d(o,{counter:function(){return r},space:function(){return c}});var l=n(3046),a=n(2588);let i=e=>new Promise(t=>setTimeout(t,e)),u=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return await i(1e3),{data:e}},s=e=>e.counter.value,d=e=>e.counter.amount,f=(0,a.hg)("counter/fetchIdentityCount",async e=>(await u(e)).data),_=e=>(t,n)=>{s(n())%2==1&&t(p.actions.incrementByAmount(e))},p=(0,a.oM)({name:"counter",initialState:{value:0,amount:10,status:"idle"},reducers:{increment:e=>{e.value+=1},decrement:e=>{e.value-=1},incrementByAmount:(e,t)=>{e.value+=t.payload},setIncrementAmount:(e,t)=>{e.amount=t.payload}},extraReducers:e=>{e.addCase(f.pending,e=>{e.status="loading"}).addCase(f.fulfilled,(e,t)=>{e.status="idle",e.value+=t.payload})}});var v=n(7173),m=n(9291);let h=(0,a.oM)({name:"space",initialState:{iteration:0,space:null,auto_download:!1,prefix:"lenia"},reducers:{init:e=>{let t=(0,m.u3)();e.space=t,e.iteration=0,e.id="".concat(new Date().getTime())},step:e=>{let t=(0,v.Vk)(e.space);e.space=(0,m.uv)(t),e.iteration+=1},steps:e=>{let t=(0,v.Vk)(e.space);t=(0,m.uv)(t),t=(0,m.uv)(t),t=(0,m.uv)(t),t=(0,m.uv)(t),t=(0,m.uv)(t),t=(0,m.uv)(t),t=(0,m.uv)(t),t=(0,m.uv)(t),t=(0,m.uv)(t),t=(0,m.uv)(t),e.space=t,e.iteration+=10},set_auto_download:(e,t)=>{e.auto_download=t.payload},change_prefix:(e,t)=>{e.prefix=t.payload}}}),x=e=>e.space.space,g=e=>e.space.iteration,j=e=>e.space.auto_download,b=e=>e.space.prefix,y=e=>e.space.id,A=Object.fromEntries(Object.values(o).filter(e=>e.slice&&e.slice.name&&e.slice.reducer).map(e=>[e.slice.name,e.slice.reducer]));(0,n(3944).createLogger)({duration:!0,timestamp:!1,collapsed:!0,colors:{title:()=>"#139BFE",prevState:()=>"#1C5FAF",action:()=>"#149945",nextState:()=>"#A47104",error:()=>"#ff0005"},predicate:()=>!0});let w=[];var C=n(8399);let D=(0,a.xC)({reducer:A,middleware:e=>e().concat(w)});D.subscribe(()=>{let e=D.getState();(0,C.f)({state:e})});let I=D.getState,S=D.dispatch;(0,C.f)({getState:I,dispatch:S})},3290:function(){},459:function(e){e.exports={row:"Counter_row__Mvfac",value:"Counter_value__QyE81",textbox:"Counter_textbox__zNT__"}},5918:function(e){e.exports={Space:"Space_Space__rNQ_U"}},345:function(e){e.exports={main:"page_main__GlU4n",code:"page_code__9lUUd"}}},function(e){e.O(0,[340,823,971,938,744],function(){return e(e.s=5728)}),_N_E=e.O()}]);